{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<!-- CSS only -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
	<!-- JavaScript Bundle with Popper -->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"
		integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
		integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
		crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
		integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
		crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"
		integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">

	<!-- -------------------------------------------------------------------- -->
	<style>
		body {
		  font-family: "Lato", sans-serif;
		}
		
		.sidenav {
		  height: 100%;
		  width: 0;
		  position: fixed;
		  z-index: 1;
		  top: 0;
		  left: 0;
		  background-color: rgb(211, 211, 211);
		  overflow-x: hidden;
		  transition: 0.5s;
		  padding-top: 60px;
		}
		
		.sidenav a {
		  padding: 8px 8px 8px 32px;
		  text-decoration: none;
		  font-size: 15px;
		  color: black;
		  display: block;
		  transition: 0.3s;
		}
		
		.sidenav a:hover {
		  color: #f1f1f1;
		}
		
		.sidenav .closebtn {
		  position: absolute;
		  top: 0;
		  right: 25px;
		  font-size: 25px;
		  margin-left: 50px;
		}
		
		@media screen and (max-height: 450px) {
		  .sidenav {padding-top: 15px;}
		  .sidenav a {font-size: 18px;}
		}
		</style>
		<!-- ---------------------------------------------------------------------------------- -->
</head>

<body>
	<!-- <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top" style="box-shadow: 0 5px 5px #bdbdbd">
		<a class="navbar-brand" href="#">Flipkart</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav">
				<li class="nav-item active">
					<a class="nav-link" href="{% url 'home' %}"><i class="fas fa-home"></i></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="{% url 'add_category' %}">Add Category</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="{% url 'create_product' %}">Add Product</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" id="cart_link" href="{% url 'showcart' %}">Cart(<span id="cart">{{ cart_count }}</span>)</a>
				</li>
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown"
						aria-haspopup="true" aria-expanded="false">
						Category
					</a>
					<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
						{% for category in categories%}
						<p>
							<a href="/product/category/{{ category.id }}/" class="dropdown-item">
								<div style="display: flex;">
									<span>{{ category }}</span>
								<a href="#" class="btn btn-danger">&times;</a>
								</div>
							</a>
						</p>
						{% endfor %}
					</div>
				</li>
			</ul>
			<ul class="navbar-nav" style="margin-left: auto;">
				{% if request.user.is_authenticated %}
				<li class="nav-item">
					<a class="nav-link" href="{% url 'logout' %}">Logout</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#">{{ request.user.first_name }}
						<img src="{{ user.image.url }}" width="30" height="30" alt="">
					</a>

				</li>
				{% else %}
				<li class="nav-item">
					<a class="nav-link" href="{% url 'login' %}">Login</a>
				</li>

				{% endif %}
			</div>
			<!-- <form class="form-inline my-2 my-lg-0">
        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
      </form> -->
		<!-- </div> --> 
	
	<!-- </nav> -->
	<!-- ------------------------------------------------------------------------------------------	 -->
	<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top" style="box-shadow: 0 5px 5px #bdbdbd">
		<ul class="navbar-nav" style="margin-left: auto;">

		<!-- -------------------------------------------------------------------- -->
		<div id="mySidenav" class="sidenav">
			<div class="d-flex">
				<div class="d-flex" style="align-items: center;">
				<i class="fas fa-user-circle" style="font-size: 50px;"></i>
				<h1>{{ request.user.first_name }}</h1>
				</div>
			</div>
			<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
			<a href="{% url 'home' %}">Home</a>
			<a href="{% url 'add_category' %}">Add Category</a>
			<a href="{% url 'create_product' %}">Add Product</a>
			<a href="#">Contact</a>
		  </div>
		  <div style="padding: 0.5rem;">
		  <span style="cursor:pointer" onclick="openNav()"><i class="fas fa-align-justify"></i></span>
			</div>
  <!-- -------------------------------------------------------------------- -->
		<!-- <li class="nav-item dropdown">
			<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				<i class="fas fa-align-justify"></i>
			</a>
			<div class="dropdown-menu" aria-labelledby="navbarDropdown">
				<div class="btn-group dropright">
					<button type="button" class="btn btn-secondary">
					  Split dropright
					</button>

				<div class="dropdown-divider"></div>
					<a class="dropdown-item" href="{% url 'add_category' %}">Add Category</a>
					<a class="dropdown-item" href="{% url 'create_product' %}">Add Product</a>
				</div>
		  </li> -->
		</ul>
		<a class="navbar-brand" href="#">Flipkart</a>

		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
		  <span class="navbar-toggler-icon"></span>
		</button>
	  
		<div class="collapse navbar-collapse" id="navbarSupportedContent">
		  <!-- <ul class="navbar-nav mr-auto">
			<li class="nav-item active">
				<a class="nav-link" href="{% url 'home' %}"><i class="fas fa-home"></i></a>
			</li>
		  </ul> -->
		  <div>
			<form class="form-inline d-flex my-2 my-lg-0">
				<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
				<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
			</form>
		</div>
		</div>
		<ul class="navbar-nav" style="margin-left: auto;">
			<a href="{% url 'showcart' %}"><button type="button" class="btn btn-primary d-flex">
				<i class="fas fa-shopping-cart"></i><span class="badge badge-light"><span id="cart">{{ cart_count }}</span></span>
			</button></a>
			{% if request.user.is_authenticated %}
			<li class="nav-item">
				<a class="nav-link" href="{% url 'logout' %}">Logout</a>
			</li>
			<li class="nav-item">
				<a class="nav-link d-flex" href="#">
					<span>{{ request.user.first_name }}</span>
					<img src="{{ user.image.url }}" width="30" height="30" alt="">
				</a>
			</li>
			{% else %}
			<li class="nav-item">
				<a class="nav-link" href="{% url 'login' %}">Login</a>
			</li>

			{% endif %}
		</ul>
	  </nav>
<!-- -------------------------------------------------------------------- -->
	  <script>
		function openNav() {
		  document.getElementById("mySidenav").style.width = "250px";
		}
		
		function closeNav() {
		  document.getElementById("mySidenav").style.width = "0";
		}
		</script>
<!-- -------------------------------------------------------------------- -->
	{% block head %}

	{% endblock %}
</body>

</html>